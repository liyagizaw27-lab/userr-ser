{
  "info": {
    "_postman_id": "6ec8d3af-55e4-41a2-afec-c4b18b0e150b",
    "name": "Rideshare Backend API",
    "description": "Postman collection for all available API requests in the rideshare backend",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "42410653",
    "_collection_link": "https://ay2222.postman.co/workspace/My-Workspace~6aea86ce-ad8a-4951-8244-48418732353f/collection/42410653-6ec8d3af-55e4-41a2-afec-c4b18b0e150b?action=share&source=collection_link&creator=42410653"
  },
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Passenger Register (Phone → Request OTP)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"phone\": \"+251912345678\"\n}" },
            "url": {
              "raw": "{{baseUrl}}/auth/passenger/register-phone",
              "host": ["{{baseUrl}}"],
              "path": ["auth","passenger","register-phone"]
            }
          },
          "response": []
        },
        {
          "name": "Verify Passenger OTP (302 → profile)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "let json = pm.response.json();",
                  "if (json.token) { pm.environment.set('token', json.token); pm.environment.set('authToken', json.token); }",
                  "if (json.redirect) pm.environment.set('redirectUrl', json.redirect);"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"phone\": \"+251912345678\",\n  \"otp\": \"123456\"\n}" },
            "url": {
              "raw": "{{baseUrl}}/auth/passenger/verify-otp",
              "host": ["{{baseUrl}}"],
              "path": ["auth","passenger","verify-otp"]
            }
          },
          "response": []
        },
        {
          "name": "Passenger Register",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"add  eaa\",\n  \"phone\": \"+12154231200\",\n  \"email\": \"raoda@example.com\",\n  \"password\": \"Passw0rd!\",\n//   \"emergencyContacts\": \"[{\\\"name\\\":\\\"jjdd\\\",\\\"phone\\\":\\\"+15531230001\\\"}]\"\n \n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/passenger/register",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "passenger",
                "register"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Passenger Login (email only)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"jonny@example.com\",\n  \"password\": \"Passw0rd!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/passenger/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "passenger",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Driver Register",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"addd Rider\",\n  \"phone\": \"+15551632222\",\n  \"email\": \"addd@example.com\",\n  \"password\": \"Passw0rd!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/driver/register",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "driver",
                "register"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Driver Send OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phoneNumber\": \"+251912345678\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/driver/send-otp",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "driver",
                "send-otp"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Driver Verify OTP (Phone Login)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "let json = pm.response.json();",
                  "if (json.token) { pm.environment.set('token', json.token); pm.environment.set('authToken', json.token); }",
                  "if (json.redirect) pm.environment.set('redirectUrl', json.redirect);"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phoneNumber\": \"+251912345678\",\n  \"otp\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/driver/verify-otp",
              "host": ["{{baseUrl}}"],
              "path": ["auth","driver","verify-otp"]
            }
          },
          "response": []
        },
        {
          "name": "Driver Login (email+password, optional OTP)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"driver@example.com\",\n  \"password\": \"Passw0rd!\",\n  \"otp\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/driver/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "driver",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Staff Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"daas\",\n  \"password\": \"secret123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/staff/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "staff",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Admin Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"admin\",\n  \"password\": \"admin123\"\n}\n"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/admin/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "admin",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Request OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"+251912345678\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/request-otp",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "request-otp"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Verify OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"+251912345678\",\n  \"otp\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/verify-otp",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "verify-otp"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Passenger Login (Phone OTP)",
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "let json = pm.response.json();",
                  "if (json.token) { pm.environment.set('token', json.token); pm.environment.set('authToken', json.token); }"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"+251912345678\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "auth",
                "login"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Passenger Profile Management (Self-Service)",
      "item": [
        {
          "name": "Get My Profile (Passenger)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/passengers/profile/me",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "passengers",
                "profile",
                "me"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update My Profile (Passenger)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"emergencyContacts\": \"[{\\\"name\\\":\\\"Emergency Contact\\\",\\\"phone\\\":\\\"+15551230001\\\"}]\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/passengers/profile/me",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "passengers",
                "profile",
                "me"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Rate Driver (Passenger)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rating\": 3.5,\n  \"comment\": \"Great driver, very professional!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/passengers/rate-driver/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "passengers",
                "rate-driver",
                "1"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Driver Profile Management (Self-Service)",
      "item": [
        {
          "name": "Get My Profile (Driver)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/drivers/profile/me",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "drivers",
                "profile",
                "me"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update My Profile (Driver)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"driver@example.com\",\n  \"carPlate\": \"ABC123\",\n  \"carModel\": \"Toyota Camry\",\n  \"carColor\": \"White\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/drivers/profile/me",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "drivers",
                "profile",
                "me"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Check Booking Eligibility",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/drivers/booking-eligibility",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "drivers",
                "booking-eligibility"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Toggle My Availability",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/drivers/profile/me/toggle-availability",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "drivers",
                "profile",
                "me",
                "toggle-availability"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Rate Passenger (Driver)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rating\": 2.0,\n  \"comment\": \"Good passenger, on time!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/drivers/rate-passenger/3",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "drivers",
                "rate-passenger",
                "3"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Upload Documents",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "nationalId",
                  "type": "file",
                  "src": "postman-cloud:///1f083116-eeac-4e10-83a2-47f1c3748a57"
                },
                {
                  "key": "vehicleRegistration",
                  "type": "file",
                  "src": "postman-cloud:///1f083116-0440-4ac0-b31d-8adfcdbf93de"
                },
                {
                  "key": "insurance",
                  "type": "file",
                  "src": "postman-cloud:///1f083114-07db-4bf0-93cf-a72dd6474777"
                },
                {
                  "key": "document",
                  "type": "file",
                  "src": "postman-cloud:///1f083113-3a30-4610-b800-fb606f7d598d"
                },
                {
                  "key": "license",
                  "type": "file",
                  "src": "postman-cloud:///1f08310a-a1ba-4820-96ff-d874a3e626d2"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/drivers/1/upload-documents",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "drivers",
                "1",
                "upload-documents"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Admin Panel",
      "item": [
        {
          "name": "Admin User Management",
          "item": [
            {
              "name": "Create Admin",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"fullName\": \"Admin Two\",\n  \"username\": \"admin2\",\n  \"password\": \"Passw0rd!\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/admins",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "admins"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "List Admins",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/admin",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "admin"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get Admin",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/admin/1",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "admin",
                    "1"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Update Admin",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"newadmin@example.com\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/admins/1",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "admins",
                    "1"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Delete Admin",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/admins/1",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "admins",
                    "1"
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "Rewards",
          "item": [
            {
              "name": "Award Points to Driver",
              "request": {
                "method": "POST",
                "header": [
                  { "key": "Content-Type", "value": "application/json" },
                  { "key": "Authorization", "value": "Bearer {{authToken}}" }
                ],
                "body": { "mode": "raw", "raw": "{\n  \"points\": 50\n}" },
                "url": { "raw": "{{baseUrl}}/admins/drivers/1/reward-points", "host": ["{{baseUrl}}"], "path": ["admins","drivers","1","reward-points"] }
              }
            },
            {
              "name": "Award Points to Passenger",
              "request": {
                "method": "POST",
                "header": [
                  { "key": "Content-Type", "value": "application/json" },
                  { "key": "Authorization", "value": "Bearer {{authToken}}" }
                ],
                "body": { "mode": "raw", "raw": "{\n  \"points\": 25\n}" },
                "url": { "raw": "{{baseUrl}}/admins/passengers/1/reward-points", "host": ["{{baseUrl}}"], "path": ["admins","passengers","1","reward-points"] }
              }
            }
          ]
        },
        {
          "name": "Admin Passenger Management",
          "item": [
            {
              "name": "Create Passenger (Admin)",
              "request": {
                "method": "POST",
                "header": [
                  { "key": "Content-Type", "value": "application/json" },
                  { "key": "Authorization", "value": "Bearer {{authToken}}" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"John Passenger\",\n  \"phone\": \"+251911223344\",\n  \"email\": \"john.p@example.com\",\n  \"password\": \"Passw0rd!\"\n}"
                },
                "url": { "raw": "{{baseUrl}}/admin/passengers/create", "host": ["{{baseUrl}}"], "path": ["admin","passengers","create"] }
              },
              "response": []
            },
            {
              "name": "List Passengers",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/passengers",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "passengers"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get Passenger",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/passengers/1",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "passengers",
                    "1"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Update Passenger",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"updated@example.com\",\n  \"emergencyContacts\": \"[]\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/passengers/1",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "passengers",
                    "1"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Delete Passenger",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/passengers/1",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "passengers",
                    "1"
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "Admin Driver Management",
          "item": [
            {
              "name": "List Drivers",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/drivers",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "drivers"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get Driver",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/drivers/1",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "drivers",
                    "1"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Update Driver",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"availability\": false,\n  \"carModel\": \"Toyota Yaris\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/drivers/1",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "drivers",
                    "1"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Delete Driver",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/drivers/1",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "drivers",
                    "1"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get Pending Driver Documents",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/admin/drivers/pending-documents",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "admin",
                    "drivers",
                    "pending-documents"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Set Driver Status",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"status\": \"approved\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/admin/drivers/14/status",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "admin",
                    "drivers",
                    "14",
                    "status"
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "Admin user Filtering",
          "item": [
            {
              "name": "List Staff by Role",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/admin/users/by-role?role=passenger",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "admin",
                    "users",
                    "by-role"
                  ],
                  "query": [
                    {
                      "key": "role",
                      "value": "passenger"
                    }
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "Admin staff RoleID Filtering",
          "item": [
            {
              "name": "Filter Users by RoleId",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/admin/staff/by-role?roleId=1",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "admin",
                    "staff",
                    "by-role"
                  ],
                  "query": [
                    {
                      "key": "roleId",
                      "value": "1"
                    }
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "Staff",
          "item": [
            {
              "name": "Create Staff",
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"fullName\": \"merron Doe\",\n  \"username\": \"merron\",\n  \"password\": \"secret123\",\n  \"roleId\": 2,\n  \"department\": \"HR\",\n  \"status\": true\n}\n"
                },
                "url": {
                  "raw": "{{baseUrl}}/staff",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "staff"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "List Staff",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/staff",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "staff"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Get Staff",
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/staff/1",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "staff",
                    "1"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Update Staff",
              "request": {
                "method": "PUT",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"salary\": 1000\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/staff/1",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "staff",
                    "1"
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Delete Staff",
              "request": {
                "method": "DELETE",
                "header": [
                  {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/staff/1",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "staff",
                    "1"
                  ]
                }
              },
              "response": []
            }
          ]
        },
        {
          "name": "Role and Permission Management",
          "item": [
            {
              "name": "Roles",
              "item": [
                {
                  "name": "Create Role",
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Authorization",
                        "value": "Bearer {{authToken}}"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"name\": \"admin123\",\n  \"permissionIds\": [1,2]\n}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/roles",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "roles"
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "List Roles",
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Authorization",
                        "value": "Bearer {{authToken}}"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/roles",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "roles"
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "Get Role",
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Authorization",
                        "value": "Bearer {{authToken}}"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/roles/1",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "roles",
                        "1"
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "Update Role",
                  "request": {
                    "method": "PUT",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Authorization",
                        "value": "Bearer {{authToken}}"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"name\": \"dispatcher\",\n  \"permissionIds\": [1,2,3]\n}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/roles/1",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "roles",
                        "1"
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "Delete Role",
                  "request": {
                    "method": "DELETE",
                    "header": [
                      {
                        "key": "Authorization",
                        "value": "Bearer {{authToken}}"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/roles/1",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "roles",
                        "1"
                      ]
                    }
                  },
                  "response": []
                }
              ]
            },
            {
              "name": "Permissions",
              "item": [
                {
                  "name": "Create Permission",
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Authorization",
                        "value": "Bearer {{authToken}}"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"name\": \"passenger:read\"\n}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/permissions",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "permissions"
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "List Permissions",
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Authorization",
                        "value": "Bearer {{authToken}}"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/permissions",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "permissions"
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "Get Permission",
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Authorization",
                        "value": "Bearer {{authToken}}"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/permissions/1",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "permissions",
                        "1"
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "Update Permission",
                  "request": {
                    "method": "PUT",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Authorization",
                        "value": "Bearer {{authToken}}"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"name\": \"passenger:update\"\n}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/permissions/1",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "permissions",
                        "1"
                      ]
                    }
                  },
                  "response": []
                },
                {
                  "name": "Delete Permission",
                  "request": {
                    "method": "DELETE",
                    "header": [
                      {
                        "key": "Authorization",
                        "value": "Bearer {{authToken}}"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/permissions/1",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "permissions",
                        "1"
                      ]
                    }
                  },
                  "response": []
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{token}}",
        "type": "string"
      }
    ]
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "exec": [
          "let response = pm.response.json();\r",
          "\r",
          "if (response.token) {\r",
          "    pm.environment.set(\"token\", response.token); \r",
          "    console.log(\"Token saved:\", response.token);\r",
          "}\r",
          ""
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:4000/api"
    },
    {
      "key": "authToken",
      "value": ""
    }
  ]
}



